<script>
  const handleClick = (index) => {
    onSelectedIndex?.(index)
  }
  /** @type {{selectedIndex: number, onSelectedIndex?: (index: number) => void}} */
  let { selectedIndex, onSelectedIndex } = $props()
</script>

<div class="menu">
  <button class="link" class:active={selectedIndex === 0} onclick={() => handleClick(0)}>
    <span class="link-icon">
      <svg
        height="200px"
        width="200px"
        version="1.1"
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 512 512"
        xml:space="preserve"
        fill="currentColor"
        ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
          id="SVGRepo_tracerCarrier"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></g><g id="SVGRepo_iconCarrier">
          <g transform="translate(1)">
            <g>
              <path
                style="fill:#556080;"
                d="M263.533,311.467c-5.12,0-8.533-3.413-8.533-8.533V140.8c0-5.12,3.413-8.533,8.533-8.533 c5.12,0,8.533,3.413,8.533,8.533v162.133C272.067,308.053,268.653,311.467,263.533,311.467z"
              ></path>
              <path
                style="fill:#556080;"
                d="M425.667,422.4c-1.707,0-3.413-0.853-5.12-1.707l-157.013-107.52l-148.48,107.52 c-3.413,2.56-9.387,1.707-11.947-1.707c-2.56-3.413-1.707-9.387,1.707-11.947l158.72-114.347L430.787,407.04 c4.267,2.56,5.12,7.68,2.56,11.947C430.787,420.693,428.227,422.4,425.667,422.4z"
              ></path>
            </g>
            <g>
              <path
                style="fill:#DD691D;"
                d="M255,81.067c-2.56,0-4.267-0.853-5.973-2.56l-25.6-25.6c-3.413-3.413-3.413-8.533,0-11.947 s8.533-3.413,11.947,0l25.6,25.6c3.413,3.413,3.413,8.533,0,11.947C259.267,80.213,257.56,81.067,255,81.067z"
              ></path>
              <path
                style="fill:#DD691D;"
                d="M255,81.067c-2.56,0-4.267-0.853-5.973-2.56c-3.413-3.413-3.413-8.533,0-11.947l25.6-25.6 c3.413-3.413,8.533-3.413,11.947,0c3.413,3.413,3.413,8.533,0,11.947l-25.6,25.6C259.267,80.213,257.56,81.067,255,81.067z"
              ></path>
              <path
                style="fill:#DD691D;"
                d="M255,106.667c-5.12,0-8.533-3.413-8.533-8.533v-25.6c0-5.12,3.413-8.533,8.533-8.533 s8.533,3.413,8.533,8.533v25.6C263.533,103.253,260.12,106.667,255,106.667z"
              ></path>
            </g>
            <g>
              <path
                style="fill:#25B99A;"
                d="M502.467,473.6c-2.56,0-4.267-0.853-5.973-2.56l-51.2-51.2c-3.413-3.413-3.413-8.533,0-11.947 c3.413-3.413,8.533-3.413,11.947,0l51.2,51.2c3.413,3.413,3.413,8.533,0,11.947C506.733,472.747,505.027,473.6,502.467,473.6z"
              ></path>
              <path
                style="fill:#25B99A;"
                d="M451.267,473.6c-2.56,0-4.267-0.853-5.973-2.56c-3.413-3.413-3.413-8.533,0-11.947l51.2-51.2 c3.413-3.413,8.533-3.413,11.947,0c3.413,3.413,3.413,8.533,0,11.947l-51.2,51.2C455.533,472.747,453.827,473.6,451.267,473.6z"
              ></path>
            </g>
            <g>
              <path
                style="fill:#0F81E0;"
                d="M58.733,422.4h-51.2c-5.12,0-8.533-3.413-8.533-8.533s3.413-8.533,8.533-8.533h51.2 c5.12,0,8.533,3.413,8.533,8.533S63.853,422.4,58.733,422.4z"
              ></path>
              <path
                style="fill:#0F81E0;"
                d="M7.533,473.6c-2.56,0-4.267-0.853-5.973-2.56c-3.413-3.413-3.413-8.533,0-11.947l51.2-51.2 c3.413-3.413,8.533-3.413,11.947,0c3.413,3.413,3.413,8.533,0,11.947l-51.2,51.2C11.8,472.747,10.093,473.6,7.533,473.6z"
              ></path>
              <path
                style="fill:#0F81E0;"
                d="M58.733,473.6h-51.2c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h51.2 c5.12,0,8.533,3.413,8.533,8.533C67.267,470.187,63.853,473.6,58.733,473.6z"
              ></path>
            </g>
            <path
              d="M255,311.467c-5.12,0-8.533-3.413-8.533-8.533V140.8c0-5.12,3.413-8.533,8.533-8.533s8.533,3.413,8.533,8.533v162.133 C263.533,308.053,260.12,311.467,255,311.467z"
            ></path>
            <path
              d="M417.133,422.4c-1.707,0-3.413-0.853-5.12-1.707L255,313.173l-148.48,107.52c-3.413,2.56-9.387,1.707-11.947-1.707 c-2.56-3.413-1.707-9.387,1.707-11.947L255,292.693L422.253,407.04c4.267,2.56,5.12,7.68,2.56,11.947 C422.253,420.693,419.693,422.4,417.133,422.4z"
            ></path>
            <path
              d="M255,81.067c-2.56,0-4.267-0.853-5.973-2.56l-25.6-25.6c-3.413-3.413-3.413-8.533,0-11.947s8.533-3.413,11.947,0l25.6,25.6 c3.413,3.413,3.413,8.533,0,11.947C259.267,80.213,257.56,81.067,255,81.067z"
            ></path>
            <path
              d="M255,81.067c-2.56,0-4.267-0.853-5.973-2.56c-3.413-3.413-3.413-8.533,0-11.947l25.6-25.6 c3.413-3.413,8.533-3.413,11.947,0c3.413,3.413,3.413,8.533,0,11.947l-25.6,25.6C259.267,80.213,257.56,81.067,255,81.067z"
            ></path>
            <path
              d="M255,106.667c-5.12,0-8.533-3.413-8.533-8.533v-25.6c0-5.12,3.413-8.533,8.533-8.533s8.533,3.413,8.533,8.533v25.6 C263.533,103.253,260.12,106.667,255,106.667z"
            ></path>
            <path
              d="M502.467,473.6c-2.56,0-4.267-0.853-5.973-2.56l-51.2-51.2c-3.413-3.413-3.413-8.533,0-11.947 c3.413-3.413,8.533-3.413,11.947,0l51.2,51.2c3.413,3.413,3.413,8.533,0,11.947C506.733,472.747,505.027,473.6,502.467,473.6z"
            ></path>
            <path
              d="M451.267,473.6c-2.56,0-4.267-0.853-5.973-2.56c-3.413-3.413-3.413-8.533,0-11.947l51.2-51.2 c3.413-3.413,8.533-3.413,11.947,0c3.413,3.413,3.413,8.533,0,11.947l-51.2,51.2C455.533,472.747,453.827,473.6,451.267,473.6z"
            ></path>
            <path
              d="M58.733,422.4h-51.2c-5.12,0-8.533-3.413-8.533-8.533s3.413-8.533,8.533-8.533h51.2c5.12,0,8.533,3.413,8.533,8.533 S63.853,422.4,58.733,422.4z"
            ></path>
            <path
              d="M7.533,473.6c-2.56,0-4.267-0.853-5.973-2.56c-3.413-3.413-3.413-8.533,0-11.947l51.2-51.2 c3.413-3.413,8.533-3.413,11.947,0c3.413,3.413,3.413,8.533,0,11.947l-51.2,51.2C11.8,472.747,10.093,473.6,7.533,473.6z"
            ></path>
            <path
              d="M58.733,473.6h-51.2c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h51.2c5.12,0,8.533,3.413,8.533,8.533 C67.267,470.187,63.853,473.6,58.733,473.6z"
            ></path>
          </g>
        </g></svg
      >
    </span>
    <span class="link-title">Linear</span>
  </button>
  <button class="link" class:active={selectedIndex === 1} onclick={() => handleClick(1)}>
    <span class="link-icon">
      <svg
        fill="currentColor"
        version="1.1"
        id="Capa_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 93.615 93.615"
        xml:space="preserve"
        ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
          id="SVGRepo_tracerCarrier"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></g><g id="SVGRepo_iconCarrier">
          <g>
            <g>
              <g>
                <path
                  d="M89.684,50.137c-2.146,0-3.904,1.731-3.904,3.903v3.108H65.4c0.109-0.274,0.191-0.577,0.109-0.907 c-0.357-1.65-0.936-3.272-1.706-4.785c-0.385-0.771-1.348-1.072-2.09-0.66c-0.771,0.386-1.071,1.349-0.66,2.091 c0.66,1.265,1.128,2.612,1.431,3.987c0.027,0.082,0.082,0.164,0.109,0.274H31.159c0.082-0.358,0.138-0.743,0.22-1.101 c0.22-0.824-0.275-1.678-1.1-1.926c-0.825-0.22-1.678,0.274-1.926,1.102c-0.165,0.633-0.274,1.292-0.385,1.925H7.81V54.04 c0-2.145-1.732-3.903-3.905-3.903S0,51.868,0,54.04v14.027c0,2.145,1.732,3.904,3.905,3.904s3.905-1.732,3.905-3.904V64.96 h77.996v3.107c0,2.145,1.732,3.904,3.905,3.904c2.146,0,3.904-1.732,3.904-3.904V54.042 C93.589,51.896,91.857,50.137,89.684,50.137z"
                ></path>
                <path
                  d="M54.839,44.554c-0.468,0.743-0.248,1.705,0.494,2.145c1.211,0.743,2.312,1.678,3.272,2.725 c0.303,0.328,0.715,0.494,1.155,0.494c0.386,0,0.771-0.138,1.045-0.412c0.632-0.578,0.66-1.568,0.082-2.201 c-1.155-1.237-2.475-2.337-3.905-3.245C56.27,43.619,55.306,43.838,54.839,44.554z"
                ></path>
                <path
                  d="M33.497,46.562c-1.211,1.184-2.283,2.531-3.136,3.988c-0.439,0.742-0.192,1.705,0.55,2.145 c0.248,0.139,0.522,0.221,0.798,0.221c0.522,0,1.045-0.274,1.348-0.77c0.715-1.211,1.595-2.338,2.641-3.328 c0.604-0.605,0.632-1.595,0.027-2.201C35.092,45.983,34.129,45.957,33.497,46.562z"
                ></path>
                <path
                  d="M42.298,41.692c-1.65,0.385-3.246,1.018-4.73,1.843c-0.743,0.413-1.018,1.375-0.605,2.118 c0.275,0.522,0.825,0.797,1.375,0.797c0.248,0,0.522-0.055,0.743-0.192c1.237-0.688,2.585-1.21,3.96-1.54 c0.825-0.192,1.348-1.045,1.155-1.87C43.975,41.996,43.151,41.474,42.298,41.692z"
                ></path>
                <path
                  d="M45.763,42.684c-0.027,0.853,0.66,1.567,1.513,1.595c1.43,0.027,2.833,0.275,4.208,0.66 c0.138,0.055,0.303,0.055,0.438,0.055c0.66,0,1.293-0.44,1.485-1.1c0.248-0.825-0.221-1.705-1.045-1.953 c-1.623-0.495-3.301-0.77-5.006-0.797C46.423,41.116,45.763,41.804,45.763,42.684z"
                ></path>
              </g>
              <g>
                <path
                  d="M29.922,24.586l-1.019,0.275c-0.137,0.027-0.357,0.083-0.494,0.083c-0.66,0-1.266-0.55-1.266-1.238 c0-0.578,0.385-1.073,0.963-1.238l1.843-0.55c0.55-0.138,0.962-0.248,1.348-0.248h0.027c0.797,0,1.43,0.633,1.43,1.43v10.561 c0,0.797-0.633,1.43-1.43,1.43c-0.798,0-1.431-0.632-1.431-1.43v-9.076L29.922,24.586L29.922,24.586z"
                ></path>
                <path
                  d="M35.339,31.353v-0.027c0-1.595,0.743-2.53,2.118-3.163c-1.018-0.605-1.65-1.458-1.65-2.86v-0.055 c-0.027-2.008,1.815-3.575,4.593-3.575s4.593,1.567,4.593,3.603v0.028c0,1.402-0.659,2.255-1.649,2.86 c1.319,0.688,2.117,1.54,2.117,3.08v0.027c0,2.42-2.145,3.851-5.061,3.851C37.485,35.121,35.339,33.635,35.339,31.353z M42.655,31.132v-0.028c0-1.018-0.963-1.595-2.256-1.595c-1.319,0-2.255,0.604-2.255,1.595v0.028 c0,0.907,0.853,1.623,2.255,1.623C41.803,32.754,42.655,32.04,42.655,31.132z M42.27,25.604v-0.027c0-0.797-0.688-1.54-1.87-1.54 s-1.87,0.715-1.87,1.513v0.027c0,0.908,0.743,1.595,1.87,1.595C41.527,27.2,42.27,26.512,42.27,25.604z"
                ></path>
                <path
                  d="M47.303,28.437V28.41c0-3.795,2.365-6.766,5.83-6.766c3.466,0,5.805,2.942,5.805,6.738v0.028 c0,3.795-2.339,6.765-5.832,6.765C49.613,35.174,47.303,32.232,47.303,28.437z M55.966,28.437V28.41 c0-2.365-1.155-4.181-2.888-4.181c-1.733,0-2.834,1.733-2.834,4.125v0.027c0,2.393,1.129,4.18,2.889,4.18 C54.895,32.562,55.966,30.803,55.966,28.437z"
                ></path>
                <path
                  d="M60.724,24.642v-0.027c0-1.595,1.267-2.86,2.888-2.86c1.65,0,2.86,1.265,2.86,2.833v0.028c0,1.595-1.265,2.86-2.888,2.86 C61.934,27.501,60.724,26.236,60.724,24.642z M60.779,29.151c0-0.33,0.273-0.605,0.604-0.605h4.373 c0.33,0,0.605,0.275,0.605,0.605s-0.275,0.605-0.605,0.605H61.41C61.054,29.756,60.779,29.481,60.779,29.151z M64.932,24.642 v-0.027c0-0.798-0.55-1.513-1.375-1.513c-0.824,0-1.32,0.688-1.32,1.485v0.028c0,0.797,0.551,1.513,1.375,1.513 C64.438,26.154,64.932,25.466,64.932,24.642z"
                ></path>
              </g>
            </g>
          </g>
        </g></svg
      >
    </span>
    <span class="link-title">Joints</span>
  </button>
  <button class="link" class:active={selectedIndex === 2} onclick={() => handleClick(2)}>
    <span class="link-icon">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="m21 16-4 4-4-4"></path>
        <path d="M17 20V4"></path>
        <path d="m3 8 4-4 4 4"></path>
        <path d="M7 4v16"></path>
      </svg>
    </span>
    <span class="link-title">I/O</span>
  </button>

  <button class="link" class:active={selectedIndex === 3} onclick={() => handleClick(3)}>
    <span class="link-icon">
      <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
        ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
          id="SVGRepo_tracerCarrier"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></g><g id="SVGRepo_iconCarrier"
          ><path
            d="M2.594,18.914l9,4H11.6a.974.974,0,0,0,.8,0h.008l9-4A1,1,0,0,0,22,18V6a1.04,1.04,0,0,0-.594-.914l-9-4a1,1,0,0,0-.812,0l-9,4A1.041,1.041,0,0,0,2,6V18A1,1,0,0,0,2.594,18.914ZM4,7.539l7,3.111v9.811L4,17.35ZM20,17.35l-7,3.111V10.65l7-3.111ZM12,3.094,18.538,6,12,8.906,5.462,6Z"
          ></path></g
        ></svg
      >
    </span>
    <span class="link-title">Envrioment</span>
  </button>
</div>

<style>
  .menu {
    display: flex;
    gap: 0.5rem;
    padding: 0.5rem;
    background-color: var(--main-bg-color);
    position: relative;
    display: flex;
    justify-content: center;
    border-radius: 8px;
    filter: drop-shadow(6px 6px 6px rgba(33, 33, 33, 0.674));
    color: var(--main-text-color);
  }
  .menu button {
    background-color: transparent;
    border: none;
  }
  /* .menu button:focus {
    background-color: var(--main-bg-color-light);
  } */

  .link {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 70px;
    height: 50px;
    border-radius: 8px;
    position: relative;
    z-index: 1;
    overflow: hidden;
    transform-origin: center left;
    transition: width 0.2s ease-in;
    text-decoration: none;
    color: inherit;
    &:before {
      position: absolute;
      z-index: -1;
      content: '';
      display: block;
      border-radius: 8px;
      width: 100%;
      height: 100%;
      top: 0;
      transform: translateX(100%);
      transition: transform 0.2s ease-in;
      transform-origin: center right;
      background-color: var(--main-bg-color-light);
    }

    &:hover {
      outline: 0;
      width: 180px;

      &:before,
      .link-title {
        transform: translateX(0);
        opacity: 1;
      }
    }
  }

  .link-icon {
    width: 28px;
    height: 28px;
    display: block;
    flex-shrink: 0;
    left: 18px;
    position: absolute;
    color: var(--main-accent-color-blue);
    svg {
      width: 28px;
      height: 28px;
    }
  }

  .link-title {
    transform: translateX(100%);
    transition: transform 0.2s ease-in;
    transform-origin: center right;
    display: block;
    text-align: center;
    text-indent: 28px;
    width: 100%;
  }

  .active {
    background-color: var(--main-bg-color-light) !important;
    color: var(--main-accent-color-pink);
    font-weight: 1000;
    text-decoration: underline;
    svg {
      fill: var(--main-accent-color-pink);
      stroke: var(--main-accent-color-pink);
    }
  }
</style>
